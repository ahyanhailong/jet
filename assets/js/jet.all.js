"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){function t(t){var e={type:t.type||"GET",url:t.url||"",async:t.async||"true",data:t.data||null,dataType:t.dataType||"text",contentType:t.contentType||"application/x-www-form-urlencoded",beforeSend:t.beforeSend||function(){},success:t.success||function(){},error:t.error||function(){}};e.beforeSend();var n;window.ActiveXObject?n=ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(n=new XMLHttpRequest),n.open(e.type,e.url,e.async),n.responseType=e.dataType,n.setRequestHeader("Content-Type",e.contentType),n.send(i(e.data)),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?e.success(n.response):e.error())}}function e(t,e,n){ut.ajax({url:t,async:!0,success:function(t){e(t)},error:function(t){throw void 0!=n&&n(t),new Error("加载失败")}})}function n(t){return document.createElement(t)}function i(t){if(void 0==t)return"";if("json"==ut.type(t)){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e=e.substring(0,e.length-1)}return t}function r(t){if(void 0==t)return function(){};var e=ut.type(t);return"function"==e?t:"string"==e?new Function(t):function(){}}function s(t){return null==t||void 0==t?[]:1==t.length?t[0]:t}function o(t,e,n){if(n._JT_has("-=")||n._JT_has("+=")){var i=_(n.substring(n.indexOf("=")+1));n._JT_has("-=")&&(i[0]=-i[0]);var r;return r=_(n._JT_has("%")?t.style[e]:getComputedStyle(t)[e]),i[0]+r[0]+i[1]}return n}function _(t,e){if(""!=t&&void 0!=t||(t="0%"),void 0==e)if(t._JT_has("px"))e="px";else if(t._JT_has("%"))e="%";else{if(!t._JT_has("em"))return[parseFloat(t),"px"];e="em"}return[parseFloat(t.substring(0,t.indexOf(e))),e]}function l(t,e){return void 0==t?e:t}function h(t){if("string"==ut.type(t)){var e=ut.ct("div")._JT_html(t);return 1==e._JT_child().length?e._JT_child(0):e._JT_child()._JT_toArray()}return t}function u(t,e,n){document.addEventListener?t.addEventListener(e.substring(2),r(n),!1):document.attachEvent&&t.attachEvent(e,r(n))}function c(t,e,n){var i=ut.type(t);if("json"==i||"object"==i){var r=0;for(var s in t)"function"!=ut.type(t[s])&&e(t[s],s,r,t),r++}else"number"==i||"boolean"==i||"string"==i||"function"==i?e(t,0,n):t._JT_each(e,n);return t}function p(t){if(0==arguments.length)throw new Error("This function need a argument");var e=void 0===t?"undefined":_typeof(t);if("object"==e){if(null===t)return"null";var n=t.constructor;switch(n){case Object:e="json";break;case Array:e="array";break;case HTMLCollection:e="htmlcollection";break;case NodeList:e="nodelist";break;case FormData:e="formdata";break;case Error:e="error";break;case Date:e="date";break;default:e=n.toString()._JT_has("HTML")?"htmlelement":"object"}}return e}function f(){var t="";if(""!=location.search?t=location.search.substring(1):location.hash._JT_has("?")&&(t=location.hash.substring(location.hash.indexOf("?")+1)),""==t)return null;for(var e=decodeURI(t).split("&"),n={},i=0;i<e.length;i++){var r=e[i].split("=");n[r[0]]=r[1]}return n}function J(t,e,n){n._func||(n._func=[]);for(var i in e)v(t,i,e,n)}function d(t,e,n){T(t,e,n)}function T(t,e,n,i){n._func||(n._func=[]);for(var r=i||0;r<e.length;r++)v(t,r,e,n)}function v(t,e,n,i){var r=ut.type(n[e]);if("json"==r){var s={};i[e]||(i[e]={}),y(t,n,e,s,i[e]),J(s,n[e],i[e])}else if("array"==r){var s=[];i[e]||(i[e]=[]),y(t,n,e,s,i[e]),d(s,n[e],i[e])}else i[e]&&i[e]._func||(i[e]={_func:[]}),m(t,n,e,i[e])}function y(t,e,n,i,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i},set:function(t){e[n]=t,g(i,t,r),r._func._JT_each(function(e){e(n,t)})}})}function m(t,e,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return e[n].type==xt?e[n].data[Jet.lang.type]:e[n]},set:function(t){e[n].type==xt?e[n].data[Jet.lang.type]=t:e[n]=t,i._func._JT_each(function(e){e(n,t)})}})}function g(t,e,n){"json"==w(t,e)?x(t,e,n):b(t,e,n)}function x(t,e,n){for(var i in e)j(t,e,i,n)}function b(t,e,n){for(var i=0;i<e.length;i++)j(t,e,i,n)}function j(t,e,n,i){if(t[n]){var r=ut.type(t[n]);"json"==r?x(t[n],e[n],i[n]):"array"==r?b(t[n],e[n],i[n]):t[n]=e[n]}else v(t,n,e,i)}function w(t,e){var n=ut.type(t);return n!=ut.type(e)&&A("不允许前后设置的值类型不一致"),n}function A(t){throw new Error(t)}function L(t,e){var n,i,r,s,a=this;t.ele?(n=t.ele._JT_findAttr(ct),i=t.ele._JT_findAttr(ft),r=t.ele._JT_findAttr(Jt),s=t.ele._JT_findAttr(dt)):(n=ut.attr(ct),i=ut.attr(ft),r=ut.attr(Jt),s=ut.attr(dt));var o=[],_=document.createDocumentFragment();n._JT_each(function(t,e){o.push({par:t._JT_parent(),index:t._JT_index(),item:t})}),n._JT_each(function(n,i){if(!n._hasBind){_.appendChild(n);var r=n._JT_attr(ct);if(void 0==t.data||""==r){var s=E(a,n,r,{_func:[]});n.__isRoot=!0,a._tools._jets.push(new Jet.Bind(s))}else if(t.data[r]){var o,l=ut.type(t.data[r]),s=E(a,n,r,e[r]);switch(l){case"json":o=new Jet.Bind(s);break;case"array":o=new Jet.For(s);break;default:o=H(n)?new Jet.Input(s):new Jet.Text(s)}n.__isRoot=!0,a._tools._jets.push(o)}else A("原数据没有"+r+"属性")}}),i._JT_each(function(t){t._hasIf||a._tools._jetTools.push(new Jet.If(E(a,t)))}),r._JT_each(function(t){t._hasOn||a._tools._jetTools.push(new Jet.On(E(a,t)))}),s._JT_each(function(t){t._hasRun||a._tools._jetTools.push(new Jet.Run(E(a,t)))}),o._JT_each(function(t){1==t.item.__isRoot&&t.par._JT_append(t.item,t.index)}),Jet.$.id("__preload_j")._JT_remove()}function E(t,e,n,i){return{jet:t,par:t,ele:e,data:t,_data:t._tools._data,name:n,calls:i||t._tools.calls}}function H(t){var e=t.tagName;return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e||t._JT_hasAttr("contenteditable")&&"false"!=t.attr("contenteditable")}function $(t){var e=this._tools._jetTools;this.ele._JT_hasAttr(Jt)&&(this.ele._hasOn||e.push(new Jet.On(t))),this.ele._JT_hasAttr(dt)&&(this.ele._hasRun||e.push(new Jet.Run(t))),this.ele._JT_hasAttr(ft)&&(this.ele._hasIf||e.push(new Jet.If(t)))}function C(t){this.runs=this.ele._JT_attr(dt).split(","),this.run()}function M(t,e){var n=ut.attr('load-script="'+e+'"');if(n._JT_exist()){var i=n._JT_html();n._JT_remove(),ut.body()._JT_append(ut.ct("script")._JT_attr({"load-script":e,type:"text/javascript"})._JT_html(i))}else{n=ut.ct("script")._JT_attr({"load-script":e,type:"text/javascript"});for(var i=["//# sourceURL="+e+".js\r\n"],r=t._JT_findTag("script"),s=-1,a=r.length-1;a>=0;a--)if(r[a]._JT_hasAttr("src")){s=a;break}r._JT_each(function(t,e){t._JT_hasAttr("src")?ut.load(Jet.router.conf.js+t.attr("src"),function(t){i[e+1]=t,e==s&&(n._JT_html(i.join("")),ut.body()._JT_append(n))}):i[e+1]=t._JT_html(),t._JT_remove()}),-1==s&&(n._JT_html(i.join("")),ut.body()._JT_append(n))}}function O(t,e){if(!ut.attr('load-style="'+e+'"')._JT_exist()){var n=ut.ct("style")._JT_attr({"load-style":e,type:"text/css"});ut.tag("head")._JT_append(n),n._JT_empty();for(var i=[],r=t._JT_findTag("style"),s=-1,a=r.length-1;a>=0;a--)if(r[a]._JT_hasAttr("src")){s=a;break}r._JT_each(function(t,e){t._JT_hasAttr("src")?ut.load(Jet.router.conf.css+t._JT_attr("src"),function(t){i[e]=t,e==s&&n._JT_html(i.join(""))}):i[e]=t._JT_html(),t._JT_remove()}),-1==s&&n._JT_html(i.join(""))}}function N(t){"true"==t._JT_attr("jet-ispw")&&t._JT_attr("type","password")}function I(t,e){var n=t._JT_attr(yt),i="";if(null!=n){if(-1!=n.indexOf("lengthOfAny")){var r=n.substring(12,n.length-1).split(","),s=t._JT_content();i=s.length>=parseInt(r[0])&&s.length<=parseInt(r[1])?"true":k("lengthOfAny",r)}else i=P(n,t._JT_content());"true"==i?(Jet.valid.useDefaultStyle&&(t._JT_removeClass("jet-unpass"),t._JT_validValue=void 0,N(t)),void 0!=mt&&mt(t,i)):(Jet.valid.useDefaultStyle&&(t._JT_validValue=t._JT_content(),t._JT_content(i)._JT_addClass("jet-unpass"),"password"==t._JT_attr("type")&&t._JT_attr("jet-ispw","true")._JT_attr("type","text")),void 0!=gt&&gt(t,i),Jet.valid.useAlert&&0!=e&&alert(i))}return i}function B(t){return t._JT_hasClass("jet-unpass")?(void 0!=gt&&gt(t,t._JT_val()),t._JT_val()):I(t,!1)}function X(t){t._JT_hasClass("jet-unpass")&&(t._JT_content(t._JT_validValue),N(t))}function S(t,e,n){var i=[],s=!0;void 0==n&&(s=!1);var a=!0;if(t._JT_findAttr(yt)._JT_each(function(t){var e=B(t);"true"!=e&&(a=!1,s&&(i[i.length]={obj:t,error:e}))}),a)void 0!=e&&r(e)(t);else{s&&r(n)(i,t);var o="CHINESE"==Jet.valid.language?"输入有误，请按提示改正。":"Values is not expected";Jet.valid.useAlert&&alert(o)}}function R(t){var e=0;if(-1!=t.indexOf("range")?e=6:-1!=t.indexOf("letterStart")?e=12:-1!=t.indexOf("length")?e=7:t._JT_has("number")&&"number"!=t&&(e=7),0!=e){var n=t.substring(e,t.length-1).split(",");return void 0==n[1]&&(n[1]=n[0]),k(t.substring(0,e-1),n)}return k(t)}function k(t,e){if("CHINESE"==Jet.valid.language){if(void 0==e)return Jet.valid.validText.CN[t];var n="";return t._JT_has("number")&&(n=" 且长度为"),Jet.valid.validText.CN[t]+n+"["+e[0]+","+e[1]+"]"}if(void 0==e)return Jet.valid.validText.EN[t];var n="";return t._JT_has("number")&&(n=" and length between"),Jet.valid.validText.EN[t]+n+"["+e[0]+","+e[1]+"]"}function F(t){var e=-1,n=-1;if(-1!=t.indexOf("length")){var i=t.substring(7,t.length-1).split(",");t="length",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else if(-1!=t.indexOf("letterStart")){var i=t.substring(12,t.length-1).split(",");t="letterStart",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else if(t._JT_has("number")&&"number"!=t){var i=t.substring(7,t.length-1).split(",");t="number",e=i[0],void 0==i[1]&&(i[1]=i[0]),n=i[1]}else t._JT_has("express")&&(e=t.substring(8,t.length-1),t="express");if(t in Jet.valid.regExp)return Jet.valid.regExp[t];switch(t){case"number":return e>=0?new RegExp("^-?(\\d{"+e+","+n+"})$"):/^-?(\d+)$/;case"letterStart":return new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(parseInt(e)-1)+","+(parseInt(n)-1)+"})$");case"length":return new RegExp("^(([a-zA-Z\\d]){"+e+","+n+"})$");case"express":return new RegExp(e);default:return"null"}}function P(t,e){if(-1!=t.indexOf("notnull")){if(0==e.length)return R("notnull")}else if(-1!=t.indexOf("null")){var n=t.split(" "),i="null"==n[0]?n[1]:n[0];if(-1!=i.indexOf("range")){var r=V(t,e);if("true"!=r&&""!=e)return r}if(!F(i).test(e)&&""!=e)return R(i)}else if(-1!=t.indexOf("range")){var r=V(t,e);if("true"!=r)return r}else if(!F(t).test(e))return R(t);return"true"}function V(t,e){var n=t.substring(6,t.length-1).split(",");return t="number",F(t).test(e)?parseInt(e)<parseInt(n[0])||parseInt(e)>parseInt(n[1])?k("range",n):"true":k("number")}function q(){Jet.lang.use&&(ut.attr(xt)._JT_each(function(t){t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.initValid(t)}),Jet.lang.jets._JT_each(function(t){t.refresh()}))}function D(t){"json"==ut.type(t._data)&&t.name in t._data&&t._data[t.name].type==xt&&Jet.lang.jets.push(this)}function U(t){if("history"in t&&(Jet.router.history=t.history),"base"in t){if(Jet.router.base=t.history?t.base:t.base+"/#","trueBase"in t&&t.trueBase)for(var e in Jet.router.conf)Jet.router.conf[e]=t.base+Jet.router.conf[e]}else Jet.router.base=t.history?"":"/#";for(var e in t.router)z(e,t.router[e])}function z(t,e){if("string"!=typeof e){var n="";if("params"in e){n="?";for(var i in e.params)n+=i+"="+e.params[i]+"&";n=n.substring(0,n.length-1)}Z(t,e.name,n);var r=e.children;for(var i in r)z(t+i,r[i])}else Z(t,e)}function Z(t,e,n){e._JT_has(".html")||(e+=".html"),void 0!=n&&(e+=n),Jet.router.router[Jet.router.base+t]=e}function G(t){Jet.load.init(t),Jet.valid.init(t),Jet.lang.init(t),Jet.router.init(t)}function K(t){return"/"==t[t.length-1]&&(t=t.substring(0,t.length-1)),t=t==Jet.router.base?Jet.router.base+"/home":"/"!=t[0]?Jet.router.path+"/"+t:Jet.router.base+t}function Q(t){ut.id(jt)._JT_exist()&&ut.id(jt)._JT_remove();for(var e=ut.ct("script")._JT_attr({id:jt,type:"text/javascript"}),n=["//# sourceURL=__dynamic.js\r\n"],i=t._JT_findTag("script"),r=-1,s=i.length-1;s>=0;s--)if(i[s]._JT_hasAttr("src")){r=s;break}i._JT_each(function(t,i){t._JT_hasAttr("src")?ut.load(Jet.router.conf.js+t._JT_attr("src"),function(t){n[i+1]=t,i==r&&(e._JT_html(n.join("")),ut.body()._JT_append(e))}):n[i+1]=t._JT_html(),t._JT_remove()}),-1==r&&(e._JT_html(n.join("")),ut.body()._JT_append(e))}function W(t){var e=ut.id(wt);e._JT_exist()||(e=ut.ct("style")._JT_attr({id:wt,type:"text/css"}),ut.tag("head")._JT_append(e)),e._JT_empty();for(var n=[],i=t._JT_findTag("style"),r=-1,s=i.length-1;s>=0;s--)if(i[s]._JT_hasAttr("src")){r=s;break}i._JT_each(function(t,i){t._JT_hasAttr("src")?ut.load(Jet.router.conf.css+t._JT_attr("src"),function(t){n[i]=t,i==r&&e._JT_html(n.join(""))}):n[i]=t._JT_html(),t._JT_remove()}),-1==r&&e._JT_html(n.join(""))}function Y(t){var e=this,n=t.data[t.name],i=this.ele._JT_findAttr(ct),r=this.ele._JT_findAttr(ft),s=this.ele._JT_findAttr(Jt),a=this.ele._JT_findAttr(dt);i._JT_each(function(t,i){if(!t._hasBind){var r,s=t._JT_attr(ct);if(s==Tt){var a=tt(e,t,e.name,e.par._tools._calls[e.name]);a.data=e.data,a._data=e._data,r=H(t)?new Jet.Input(a):new Jet.Text(a)}else if(s==vt||s._JT_has("$.$p")){var a=tt(e,t,s,e.par._tools._calls);a.index=e.name,H(t)?A("input:不允许将index绑定到输入项中"):(s._JT_has("$.$p")&&(s._JT_has("(")?a._parIndex=parseInt(s.substring(s.indexOf("(")+1,s.indexOf(")"))):a._parIndex=s.timeOf("$p")),r=new Jet.Text(a))}else if(n[s]){var o=ut.type(n[s]),a=tt(e,t,s,e._tools._calls[s]);switch(o){case"json":r=new Jet.Bind(a);break;case"array":r=new Jet.For(a);break;default:r=H(t)?new Jet.Input(a):new Jet.Text(a)}}else A("原数据没有"+s+"属性");e._tools._jets.push(r)}}),r._JT_each(function(t){t._hasIf||e._tools._jetTools.push(new Jet.If(tt(e,t)))}),s._JT_each(function(t){t._hasOn||e._tools._jetTools.push(new Jet.On(tt(e,t)))}),a._JT_each(function(t){t._hasRun||e._tools._jetTools.push(new Jet.Run(tt(e,t)))}),$.call(this,t),this.regist(function(t,n){e.refresh()})}function tt(t,e,n,i){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:void 0==t._data?null:t._data[t.name],name:n,calls:i||t._tools.calls}}function et(t){for(var e=t;e<this._tools._jets.length;e++)this._tools._jets[e]._tools._jets._JT_each(function(t){t.name==vt?t.setIndex(e):t.type==pt&&t.refreshParIndex()})}function nt(t){if(this.ele._JT_child(0)._JT_attr(ct)._JT_has("=")){this._switch=!0,this._html={},this._type=null;var e=this,n={};this.ele._JT_child()._JT_each(function(t){var i=t._JT_attr(ct);null==e._type&&(e._type=i.substring(i.indexOf(".")+1,i.indexOf("="))),i._JT_has("=")||A("swicth:html格式有误"),i=i.substring(i.indexOf("=")+1),e._html[i]=t._JT_allHtml(),n[i]=ut.ct("div")._JT_append(t)});for(var i=0;i<this.data[this.name].length;i++){var r=this.data[this.name][i][this._type];r in this._html?r in n?(this.ele._JT_append(n[r]._JT_child(0)),delete n[r]):this.ele._JT_append(this._html[r]):A("swicth:指定属性的值不在swicth枚举内")}}else if(this.ele._JT_findAttr(ct+'="'+c+'"')._JT_exist())if(1!=this.ele._JT_child().length||this.ele._JT_child(0)._JT_attr(ct)!=c)A("循环元素绑定格式错误！");else{var s=this.ele._JT_html();this._html=s;for(var i=0;i<this.data[this.name].length-1;i++)this.ele._JT_append(s)}else{var s=this.ele._JT_html();this._html="<div "+ct+'="'+c+'">'+s+"</div>";for(var i=0;i<this.data[this.name].length;i++){var a=ut.ct("div")._JT_attr(ct,c);0==i?this.ele._JT_child()._JT_each(function(t){a._JT_append(t)}):a._JT_html(s),this.ele._JT_append(a)}}}function it(t){var e=this;this.data[this.name]._jet=this,nt.call(this),this.ele._JT_child()._JT_each(function(t,n){if(!t._hasBind){var i,r=rt(e,t,n);i="array"==ut.type(r.data[0])?new Jet.For(r):new Jet.Bind(r),e._tools._jets.push(i)}}),$.call(this,t),this.regist(function(t,n){e.refresh()})}function rt(t,e,n){return{jet:t.jet,par:t,ele:e,data:t.data[t.name],_data:t._data[t.name],name:n,calls:t._tools._calls[n]}}function st(t,e){for(var n=t.par;e>0;)n=n.par.par,e--;return n.ele._JT_index()}function at(t){D.call(this,t);var e=this;""!=this.ele._JT_html().trim()&&(this.func=new Function("$","return "+this.ele._JT_html())),$.call(this,t),this.regist(function(t,n){e.refresh()}),this.refresh()}function ot(t){D.call(this,t);var e=this;""!=this.ele._JT_val().trim()&&(this.func=new Function("$","return "+this.ele._JT_val())),this.ele._JT_attr(ct)==vt&&A("输入框不能绑定数组的索引"),$.call(this,t),this.regist(function(t,n){e.refresh()}),this.refresh(),this.isNum="number"==ut.type(this.get()),this.inputLock=!1,this.ele.addEventListener("compositionstart",function(){e.inputLock=!0}),this.ele.addEventListener("compositionend",function(){e.inputLock=!1,_t.call(e.ele,e)}),this.ele._JT_on("input",function(){e.inputLock||_t.call(this,e)},!0)}function _t(t){var e=this._JT_val();if(t.isNum){var n=parseFloat(e);e==n.toString()&&(e=n)}t.data[t.name]=e}function lt(){var t=this;this.regist(function(e,n){t.refresh()});var e=this.ele._JT_attr(ft),n=e.substring(0,e.indexOf(":"));n=n._JT_replaceAll("\\$","d"),this.exp=new Function("d","return ("+n+")"),e=e.substring(e.indexOf(":")+1);var i="",r="";e.split(";")._JT_each(function(e){if(e._JT_has("class[")){var n=e.substring(e.indexOf("[")+1,e.length-1);if(n._JT_has("|")){var s=n.split("|")[0].split(",").join(" "),a=n.split("|")[1].split(",").join(" ");i+="$.ele._JT_removeClass('"+a+"')._JT_addClass('"+s+"');",r+="$.ele._JT_removeClass('"+s+"')._JT_addClass('"+a+"');"}else n=n.split(",").join(" "),i+="$.ele._JT_addClass('"+n+"');",r+="$.ele._JT_removeClass('"+n+"');"}else if(e._JT_has("attr[")){var o=e.substring(e.indexOf("[")+1,e.length-1);o._JT_has("|")?(o.split("|")[0].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="$.ele._JT_attr('"+e[0]+"','"+e[1]+"');"}),o.split("|")[1].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="$.ele._JT_attr('"+e[0]+"','"+e[1]+"');"})):o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="$.ele._JT_attr('"+e[0]+"','"+e[1]+"');",r+="$.ele._JT_removeAttr('"+e[0]+"');"})}else if(e._JT_has("text[")){var _=e.substring(e.indexOf("[")+1,e.length-1);_._JT_has("|")?(i+="$.ele._JT_txt('"+_.split("|")[0]+"');",r+="$.ele._JT_txt('"+_.split("|")[1]+"');"):(i+="$.ele._JT_txt('"+_+"');",r+="$.ele._JT_txt('');")}else if(e._JT_has("html[")){var l=e.substring(e.indexOf("[")+1,e.length-1);l._JT_has("|")?(i+="$.ele._JT_html('"+l.split("|")[0]+"');",r+="$.ele._JT_html('"+l.split("|")[1]+"');"):(i+="$.ele._JT_html('"+l+"');",r+="$.ele._JT_html('');")}else if(e._JT_has("css[")){var o=e.substring(e.indexOf("[")+1,e.length-1);o._JT_has("|")?(i+="$.ele._JT_removeAttr('style');",o.split("|")[0].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="$.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),r+="$.ele._JT_removeAttr('style');",o.split("|")[1].split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),r+="$.ele._JT_css('"+e[0]+"','"+e[1]+"');"})):(i+="$.ele._JT_removeAttr('style');",o.split(",")._JT_each(function(t){var e=t.split("=");1==e.length&&(e[1]=""),i+="$.ele._JT_css('"+e[0]+"','"+e[1]+"');"}),r+="$.ele._JT_removeAttr('style');")}else if(e._JT_has("|")){if(e=e.split("|"),!(e[0]in t.jet&&e[1]in t.jet))throw new Error("j-if属性值错误");i+="this."+e[0]+".call(this,$);",r+="this."+e[1]+".call(this,$);"}else{if(!(e in t.jet))throw new Error("j-if属性值错误");i+="this."+e+".call(this,$);"}}),this.func_true=new Function("$",i),this.func_false=new Function("$",r),this.refresh()}function ht(){var t=this,e=this.ele._JT_attr(Jt);e._JT_has(":")||A("j-on 属性格式错误:"+e);var n=e.split(":");n[1]._JT_has("$valid")?n[1]._JT_has("=>")?(t.valid=!0,t.validPar=Jet.valid.findValidPar(t.ele),t.func=t.jet[n[1].substring(n[1].indexOf("=>")+2)]):A('valid:"'+n[1]+'" 格式有误，操作符为 =>'):t.func=t.jet[n[1]],t.func&&"function"==ut.type(t.func)||A("没有 "+n[1]+" 方法"),this.ele._JT_on(n[0],function(e){var n={ele:this,data:t.get(),e:e,jet:t};t.valid?t.validPar._JT_validate(function(){t.func.call(t.jet,n)}):t.func.call(t.jet,n)})}function C(t){this.runs=this.ele._JT_attr(dt).split(","),this.run()}var ut={cls:function(t){return s(document.getElementsByClassName(t))},id:function(t){return s(document.getElementById(t))},tag:function(t){return s(document.getElementsByTagName(t))},attr:function(t){return s(document.querySelectorAll("["+t+"]"))},name:function(t){return s(document.getElementsByName(t))},select:function(t){return s(document.querySelectorAll(t))},body:function(){return document.body},type:p,ct:n,ajax:t,load:e,html5:function(){return!!window.applicationCache},urlParam:f};HTMLElement.prototype._JT_css=function(t,e){if(void 0==e){if("json"==ut.type(t)){for(var n in t)t[n]._JT_has("!important")?this.style.setProperty(n,o(this,n,t[n].substring(0,t[n].indexOf("!important"))),"important"):this.style.setProperty(n,o(this,n,t[n]));return this}return getComputedStyle(this)[t]}return e._JT_has("!important")?this.style.setProperty(t,o(this,t,e.substring(0,e.indexOf("!important"))),"important"):this.style.setProperty(t,o(this,t,e)),this},HTMLElement.prototype._JT_attr=function(t,e){if(void 0==e){if("json"==ut.type(t)){for(var n in t)this.setAttribute(n,t[n]);return this}return this.getAttribute(t)}return this.setAttribute(t,e),this},HTMLCollection.prototype._JT_attr=NodeList.prototype._JT_attr=function(t,e){if(void 0==e&&"json"!=ut.type(t)){var n=[];return this._JT_each(function(e){n._JT_append(e._JT_attr(t))}),n}return this._JT_each(function(n){n._JT_attr(t,e)}),this},HTMLElement.prototype._JT_hasAttr=function(t){return this.hasAttribute(t)},HTMLElement.prototype._JT_removeAttr=function(t){var e=t.split(" ");if(e.length>1){var n=this;e._JT_each(function(t){n.removeAttribute(t)})}else this.removeAttribute(t);return this},HTMLCollection.prototype._JT_removeAttr=NodeList.prototype._JT_removeAttr=function(t){return this._JT_each(function(e){e._JT_removeAttr(t)}),this},HTMLElement.prototype._JT_findTag=function(t){return s(this.getElementsByTagName(t))},HTMLElement.prototype._JT_findAttr=function(t){return s(this.querySelectorAll("["+t+"]"))},HTMLElement.prototype._JT_select=function(t){return s(this.querySelectorAll(t))},HTMLElement.prototype._JT_addClass=function(t){if(t._JT_has(" ")){var e=this;t.split(" ")._JT_each(function(t){e._JT_addClass(t)})}else ut.html5()?this.classList.add(t):this._JT_hasClass(t)||(this.className+=" "+t);return this},HTMLCollection.prototype._JT_addClass=NodeList.prototype._JT_addClass=function(t){return this._JT_each(function(e){e._JT_addClass(t)}),this},HTMLElement.prototype._JT_removeClass=function(t){if(void 0==t)this.className="";else if(t._JT_has(" ")){var e=t.split(" "),n=this;e._JT_each(function(t){n._JT_removeClass(t)})}else if(ut.html5())this.classList.remove(t);else if(this._JT_hasClass(t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");this.className=this.className.replace(i," ").trim()}return this},HTMLCollection.prototype._JT_removeClass=NodeList.prototype._JT_removeClass=function(t){return this._JT_each(function(e){e._JT_removeClass(t)}),this},HTMLElement.prototype._JT_val=function(t){return void 0==t&&0==arguments.length?this.value:("INPUT"!=this.tagName&&"TEXTAREA"!=this.tagName&&"SELECT"!=this.tagName||(this.value=l(t,"")),this)},HTMLCollection.prototype._JT_val=NodeList.prototype._JT_val=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_val())}),e}return this._JT_each(function(e){e._JT_val(t)}),this},HTMLElement.prototype._JT_txt=function(t){return void 0==t&&0==arguments.length?this.innerText:(this.innerText=l(t,""),this)},HTMLCollection.prototype._JT_txt=NodeList.prototype._JT_txt=function(t){if(void 0==t&&0==arguments.length){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_txt())}),e}return this._JT_each(function(e){e._JT_txt(t)}),this},HTMLElement.prototype._JT_html=function(t){return void 0==t?this.innerHTML:(this.innerHTML=t,this)},HTMLCollection.prototype._JT_html=NodeList.prototype._JT_html=function(t){if(void 0==t){var e=[];return this._JT_each(function(t){e._JT_append(t._JT_html())}),e}return this._JT_each(function(e){e._JT_html(t)}),this},HTMLElement.prototype._JT_allHtml=function(t){if(void 0==t)return ut.ct("div")._JT_append(this._JT_clone())._JT_html();var e=this._JT_index(),n=this._JT_parent()._JT_append(t,e);return this._JT_remove(),n._JT_child(e)},HTMLCollection.prototype._JT_allHtml=NodeList.prototype._JT_allHtml=function(t){var e=[];return this._JT_each(function(n){e._JT_append(n._JT_allHtml(t))}),e},HTMLElement.prototype._JT_hasClass=function(t){return ut.html5()?this.classList.contains(t):new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.className)},HTMLElement.prototype._JT_next=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()+t):this._JT_parent()._JT_child(this._JT_index()+1)},HTMLElement.prototype._JT_prev=function(t){return void 0!=t?this._JT_parent()._JT_child(this._JT_index()-t):this._JT_parent()._JT_child(this._JT_index()-1)},HTMLElement.prototype._JT_child=function(t){return void 0==t?this.children:this.children[t]},HTMLElement.prototype._JT_clone=function(){return this.cloneNode()._JT_html(this._JT_html())},HTMLElement.prototype._JT_parent=function(t){if(void 0==t)return this.parentElement;for(var e=this,n=0;n<t;n++)e=e.parentElement;return e},HTMLElement.prototype._JT_prepend=function(t){var e=ut.type(t);if("array"==e||"htmlcollection"==e||"nodelist"==e){var n=this;t._JT_each(function(t){n.insertBefore(h(t),n.children[0])})}else this.insertBefore(h(t),this.children[0]);return this},HTMLCollection.prototype._JT_prepend=NodeList.prototype._JT_prepend=function(t){return this._JT_each(function(e){e._JT_prepend(t)}),this},HTMLElement.prototype._JT_append=function(t,e){if(void 0==e){var n=ut.type(t);if("array"==n||"htmlcollection"==n||"nodelist"==n)for(var i=0;i<t.length;i++)this._JT_append(t[i]);else"string"==n?this._JT_append(h(t)):this.appendChild(h(t))}else this.insertBefore(h(t),this.children[e]);return this},HTMLElement.prototype._JT_toArray=function(){return[this]},HTMLCollection.prototype._JT_toArray=NodeList.prototype._JT_toArray=function(){for(var t=[],e=0;e<this.length;e++)t.push(this[e]);return t},HTMLCollection.prototype._JT_append=NodeList.prototype._JT_append=function(t,e){return this._JT_each(function(n){n._JT_append(t,e)}),this},HTMLElement.prototype._JT_index=function(){for(var t=this._JT_parent()._JT_child(),e=0;e<t.length;e++)if(t[e]==this)return e;return-1},HTMLElement.prototype._JT_on=function(t,e,n){if("string"==ut.type(t))return this._JT_event("on"+t,e,n);for(var i in t)t["on"+i]=t[i],delete t[i];return this._JT_event(t,e)},HTMLCollection.prototype._JT_on=NodeList.prototype._JT_on=function(t,e,n){return this._JT_each(function(i){i._JT_on(ut.clone(t),e,n)}),this},HTMLElement.prototype._JT_clk=function(t,e){return this._JT_event("onclick",t,e)},HTMLCollection.prototype._JT_clk=NodeList.prototype._JT_clk=function(t,e){return this._JT_each(function(n){n._JT_clk(t,e)}),this},HTMLElement.prototype._JT_event=function(t,e,n){if("string"==ut.type(t))1==n?u(this,t,e):this[t]=r(e);else for(var i in t)void 0!=t[i]&&(1==e?u(this,i,t[i]):this[i]=r(t[i]));return this},HTMLCollection.prototype._JT_event=NodeList.prototype._JT_event=function(t,e,n){return this._JT_each(function(i){i._JT_event(t,e,n)}),this},HTMLElement.prototype._JT_empty=function(){return this._JT_html("")},HTMLCollection.prototype._JT_empty=NodeList.prototype._JT_empty=function(){return this._JT_each(function(t){t._JT_empty()}),this},HTMLElement.prototype._JT_remove=function(){this.parentNode.removeChild(this)},HTMLCollection.prototype._JT_remove=NodeList.prototype._JT_remove=function(t){if(void 0==t)for(var e=0;e<this.length;)this[e]._JT_remove();else if("number"==ut.type(t)){for(var e=0;e<this.length;e++)if(e==t)return this[e]._JT_remove(),this}else for(var e=0;e<this.length;e++)if(this[e]==t)return this[e]._JT_remove(),this},HTMLElement.prototype._JT_each=function(t,e){return t(this,0,e),this},HTMLCollection.prototype._JT_each=NodeList.prototype._JT_each=function(t,e){for(var n=this._JT_toArray(),i=0;i<n.length;i++)t(n[i],i,e);return this},Array.prototype._JT_each=function(t,e){for(var n=0;n<this.length;n++)t(this[n],n,e);return this},Array.prototype._JT_empty=function(t){return this.length=0,this},HTMLElement.prototype._JT_last=function(){return this._JT_child()._JT_last()},HTMLElement.prototype._JT_first=function(){return this._JT_child()._JT_first()},HTMLCollection.prototype._JT_last=NodeList.prototype._JT_last=Array.prototype._JT_last=function(t){return this[this.length-1]},HTMLCollection.prototype._JT_first=NodeList.prototype._JT_first=Array.prototype._JT_first=function(t){return this[0]},Array.prototype._JT_remove=function(t,e){var n=this.indexOf(t);return 0==e?this[a]=this[this.length--]:this._JT_removeByIndex(n),this},Array.prototype._JT_removeByIndex=function(t){return this.splice(t,1),this},Array.prototype._JT_insert=function(t,e){return this.splice(e,0,t),this},Array.prototype._JT_insertArray=function(t,e){for(var n=e,i=t.length,r=this.length-1;r>=n;r--)this[r+i]=this[r];for(var s=0;s<i;s++)this[n+s]=t[s];return this},Array.prototype._JT_append=function(){return Array.prototype.push.apply(this,arguments),this},Array.prototype._JT_prepend=function(t){return 1==arguments.length?this._JT_insert(t,0):this._JT_insertArray(arguments,0)},String.prototype._JT_has=function(t){return"string"==ut.type(t)?void 0==this.includes?-1!=this.indexOf(t):this.includes(t):null!=this.match(t)},String.prototype._JT_replaceAll=function(t,e){if("array"==ut.type(e)){if("string"==ut.type(t)){var n=this.split(t),i=n[0];return n._JT_each(function(t,n){n>0&&(i+=e[n-1]+t)}),i}var r="",s=this,a=this.match(t);return null!=a?(a._JT_each(function(t,n){s.split(t);r+=s.substring(0,s.indexOf(t))+e[n],s=s.substring(s.indexOf(t)+t.length)}),r+=s):this}return"string"==ut.type(t)?this.replace(new RegExp(t,"g"),e):this.replace(t,e)},HTMLElement.prototype._JT_exist=function(t,e){return void 0!=t&&r(t)(this),!0},HTMLCollection.prototype._JT_exist=NodeList.prototype._JT_exist=Array.prototype._JT_exist=function(t,e){return this.length>0?(1==this.length?r(t)(this[0]):r(t)(this),!0):(r(e)(),!1)},HTMLElement.prototype._JT_content=function(t){if("INPUT"==this.tagName||"TEXTAREA"==this.tagName||"SELECT"==this.tagName){if(void 0==t&&0==arguments.length)return this.value;try{this.value=l(t,"")}catch(t){}}else{if(void 0==t&&0==arguments.length)return this.innerText;this.innerText=l(t,"")}return this},ut.tag("head")._JT_append(ut.ct("style")._JT_txt(".jet-hide{display:none}.jet-unpass{border-color:#f20!important;border-style:solid!important;background-color:rgba(255,0,0,.1)!important;color:red!important}"));var ct="J",pt="Jfor",ft="Jif",Jt="Jon",dt="Jrun",c="$each",Tt="$value",vt="$index";window.Jet=function(t){if(this._tools={_jets:[],_jetTools:[],_calls:{},_data:t.data},J(this,t.data,this._tools._calls),t.func)for(var e in t.func)this[e]?A("data 不能与 func 有重名属性"):this[e]=t.func[e];L.call(this,t,this._tools._calls),t.ready&&t.ready.call(this)},Jet.prototype.get=function(){return this},Jet.Base=function(t,e){switch(this.jet=t.jet,this.par=t.par,this.ele=t.ele,this._data=t._data,this.data=t.data,this.type=e,this.name=t.name,this.index=t.index,this._tools={_jets:[],_jetTools:[],_calls:t.calls},this.type){case ft:this.ele._hasIf=!0;break;case Jt:this.ele._hasOn=!0;break;case dt:this.ele._hasRun=!0;break;default:this.ele._hasBind=!0}},Jet.Base.prototype.regist=function(t,e){2==arguments.length?(this._tools._calls[t]||A("没有"+t+"属性"),"function"!=ut.type(e)&&A("call参数必须为函数"),this._tools._calls[t]._func.push(e)):("function"!=ut.type(t)&&A("call参数必须为函数"),this._tools._calls._func.push(t))},Array.prototype.$push=function(t){var e=this._jet,n=e.data[e.name],i=e._data[e.name];i.push(t),v(n,n.length,i,e._tools._calls),e.refresh.push.call(e)},Array.prototype.$pushArray=function(t){var e=this;t._JT_each(function(t){e.$push(t)})},Array.prototype.$prep=function(t){var e=this._jet,n=e.data[e.name],i=e._data[e.name];i._JT_prepend(t),e._tools._calls._JT_prepend({}),d(n,i,e._tools._calls),e.refresh.prep.call(e)},Array.prototype.$prepArray=function(t){this.$insertArray(t,0)},Array.prototype.$insert=function(t,e){var n=this._jet,i=n.data[n.name],r=n._data[n.name];r._JT_insert(t,e),n._tools._calls._JT_insert({},e),T(i,r,n._tools._calls,e),n.refresh.insert.call(n,e)},
Array.prototype.$insertArray=function(t,e){var n=this._jet,i=n.data[n.name],r=n._data[n.name];r._JT_insertArray(t,e);var s=[];t._JT_each(function(){s.push({})}),n._tools._calls._JT_insertArray(s,e),T(i,r,n._tools._calls,e),n.refresh.insertArray.call(n,t,e)},Array.prototype.$remove=function(t,e){e=e||1;var n=this._jet,i=n.data[n.name],r=n._data[n.name];r.splice(t,e),n._tools._calls.splice(t,e),T(i,r,n._tools._calls,t),i.length-=e,n.refresh.remove.call(n,t,e)},Jet.$=ut,Jet.Run=function(t){Jet.Base.call(this,t,dt),C.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.Run.prototype=new t}(),Jet.Run.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:this.data[this.name]},Jet.Run.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index,this.run()},Jet.Run.prototype.run=function(){var t=this;this.runs._JT_each(function(e){t.jet[e].call(t.jet,{ele:t.ele,data:t.get(),jet:t})})};var e="Jload";Jet.load={init:function(t){var n;n=void 0==t?ut.attr(e):t._JT_findAttr(e),n._JT_each(function(t){var n=t._JT_attr(e);ut.load(Jet.router.conf.html+n,function(e){var i=t._JT_html(e);M(i,n),O(i,n),Jet.load.init(t),Jet.valid.init(t),Jet.lang.init(t)})})}};var yt="Jvalid";Jet.valid={init:function(t){Jet.valid.initValid(t)},findValidPar:function(t){for(var e=t._JT_parent();!e._JT_hasAttr("$form")&&null!=e._JT_parent();)e=e._JT_parent();return e},regExp:{null:/^\S{0}$/,date:/^(([12]\d{3}-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/,email:/^((\w*@\w*\.[A-Za-z.]+(\.)?[A-Za-z]+))$/,float:/^-?[1-9]\d*.\d*|0.\d*[1-9]\d*$/,idcard:/^(\d{17}(X|\d))$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/,phone:/^([1]\d{10})$/},validText:{CN:{nul:"*可以为空",notnull:"*必填",date:"*格式为XXXX-XX-XX",email:"*格式为XXX@XX.XX",number:"*须为纯数字",idcard:"*17位数字加一位数字或X",length:"*输入长度为",url:"*请输入正确的网址",decimal:"*请正确的小数",lengthOfAny:"*输入长度为",phone:"*须为11位纯数字",letterStart:"*字母开头且长度为",range:"*数字不在范围内",express:"*自定义错误"},EN:{nul:"*null is allowed",notnull:"*Required",date:"*format:XXXX-XX-XX",email:"*format:XXX@XX.XX",number:"*expect a number",idcard:"*17 numbers plus a number or X",length:"*length between",url:"*Expect an url name",decimal:"*Expect a float number",lengthOfAny:"*length between",phone:"*must be 11 digits",letterStart:"*letter start and length",range:"*not in range",express:"*wrong express"}},language:"CHINESE",useDefaultStyle:!0,showInPlaceHolder:!1,useAlert:!1,initValid:function(t){var e;e=void 0==t?ut.attr(yt):t._JT_findAttr(yt),e._JT_each(function(t){t._JT_on({blur:"Jet.valid.validInput(this)",focus:"Jet.valid.addValidValue(this)"},!0)._jet_v_event=!0,Jet.valid.showInPlaceHolder&&t._JT_attr("placeholder",R(t._JT_attr(yt)))})},validate:function(t,e,n){void 0!=n?S(t,e,n):S(t,e)},addValidText:function(t,e){if("json"==ut.type(t)&&void 0==e)for(var n in t)Jet.valid.addValidText(n,t[n]);else"CHINESE"==Jet.valid.language?Jet.valid.validText.CN[t]=e:Jet.valid.validText.EN[t]=e},validInput:I,addValidValue:X,onOnePass:function(t){mt=r(t)},onOneFail:function(t){gt=r(t)}};var mt=null,gt=null;HTMLElement.prototype._JT_validate=function(t,e){S(this,t,e)};var xt="Jlang",bt="";Jet.lang=function(t){this.type=xt,this.data=t},Jet.lang.list=[],Jet.lang.use=!1,Jet.lang.conf=function(t){if("array"!=ut.type(t))throw new Error("Jet.lang.init: 参数是一个数组");this.use=!0,this.list=t,bt=t[0]},Jet.lang.jets=[],Jet.lang.init=function(t){var e;e=void 0==t?ut.attr(xt):t._JT_findAttr(xt),e._JT_each(function(t){t._jet_langs={},t._JT_findAttr("Jname")._JT_each(function(e){var n=e._JT_attr("Jname");t._jet_langs[n]=e._JT_html()}),t._JT_html(t._jet_langs[Jet.lang.type]),Jet.valid.initValid(t)}),Jet.$.id("__preload_jl")._JT_remove()},Object.defineProperty(Jet.lang,"type",{configurable:!0,enumerable:!0,get:function(){return bt},set:function(t){bt=t,q()}}),window.JL=function(t){return new Jet.lang(t)};var jt="JrouteScript",wt="JrouteStyle";Jet.router={use:function(t){U(t);var e="/home";location.pathname._JT_has("index.html")||(Jet.router.history?location.pathname.length-Jet.router.base.length>1&&(e=location.pathname.substring(Jet.router.base.length)+location.search):location.hash.length>2&&(e=location.pathname+location.hash,e=e.substring(Jet.router.base.length))),G(),Jet.router.route(e)},base:"",trueBase:!1,history:!1,path:"/",params:null,router:{},conf:{router:"/assets/router/router.json",html:"/src/html/",js:"/src/js/",css:"/src/css/",image:"/src/image/"},init:function(t){var e;e=void 0==t?ut.attr("Jrouter"):t._JT_findAttr("Jrouter"),e._JT_each(function(t){t._JT_clk(function(){Jet.router.route(this._JT_attr("Jrouter"))})})},route:function(t){var e="";t._JT_has("?")&&(e=t.substring(t.indexOf("?")+1),t=t.substring(0,t.indexOf("?"))),(t=K(t))in Jet.router.router||(t=Jet.router.base+"/404");var n=Jet.router.router[t];if(n._JT_has("?")){if(""==e)e=n.substring(n.indexOf("?")+1);else{var i=n.substring(n.indexOf("?")+1).split("&"),r=e.split("&");i.forEach(function(t){-1==r.indexOf(t)&&(e+="&"+t)})}n=n.substring(0,n.indexOf("?"))}""!=e&&(e="?"+e),Jet.router.path=t;var s={},a=t,o=t+e;history.pushState(s,a,o),Jet.router.params=ut.urlParam(),ut.load(Jet.router.conf.html+n,function(t){var e=ut.attr("Jout")._JT_html(t);Q(e),W(e),G(e)})}},Jet.Bind=function(t){Jet.Base.call(this,t,ct),Y.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.Bind.prototype=new t}(),Jet.Bind.prototype.refresh=function(t){this._tools._jets._JT_each(function(e){e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e.refresh(t)})},Jet.Bind.prototype.get=function(){return this.data[this.name]},Jet.For=function(t){Jet.Base.call(this,t,pt),it.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.For.prototype=new t}(),Jet.For.prototype.refresh=function(t){t&&t!=this.name||(this._tools._jets._JT_each(function(e){e.refresh(t)}),this._tools._jetTools._JT_each(function(e){e.refresh(t)}))},Jet.For.prototype.get=function(){return this.data[this.name]},Jet.For.prototype.refreshParIndex=function(){this._tools._jets._JT_each(function(t){t._tools._jets._JT_each(function(t){t._parIndex&&"Jtext"==t.type?t.refresh():t.type==pt&&t.refreshParIndex()})})},Jet.For.prototype.refresh.push=function(){if(this._switch){var t=this._data[this.name]._JT_last()[this._type];t in this._html?this.ele._JT_append(this._html[t]):A("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_append(this._html);var e=rt(this,this.ele._JT_child()._JT_last(),this.data[this.name].length-1);"array"==ut.type(e.data[0])?this._tools._jets.push(new Jet.For(e)):this._tools._jets.push(new Jet.Bind(e))},Jet.For.prototype.refresh.prep=function(){if(this._switch){var t=this._data[this.name]._JT_first()[this._type];t in this._html?this.ele._JT_prepend(this._html[t]):A("swicth:指定属性的值不在swicth枚举内")}else this.ele._JT_prepend(this._html);var e=rt(this,this.ele._JT_child()._JT_first(),0);"array"==ut.type(e.data[0])?this._tools._jets._JT_prepend(new Jet.For(e)):this._tools._jets._JT_prepend(new Jet.Bind(e)),et.call(this,0)},Jet.For.prototype.refresh.insert=function(t){if(this._switch){var e=this._data[this.name][t][this._type];if(!(e in this._html))return void A("swicth:指定属性的值不在swicth枚举内");this.ele._JT_append(this._html[e],t)}else this.ele._JT_append(this._html,t);var n=rt(this,this.ele._JT_child(t),t);"array"==ut.type(n.data[0])?this._tools._jets._JT_insert(new Jet.For(n),t):this._tools._jets._JT_insert(new Jet.Bind(n),t),et.call(this,t+1)},Jet.For.prototype.refresh.insertArray=function(t,e){var n=this,i=ut.type(t[0]);t._JT_each(function(t,r){var s=e+r;if(n._switch){var a=n._data[n.name][s][n._type];a in n._html?n.ele._JT_append(n._html[a],s):A("swicth:指定属性的值不在swicth枚举内")}else n.ele._JT_append(n._html,s);var o=rt(n,n.ele._JT_child(s),s);"array"==i?n._tools._jets._JT_insert(new Jet.For(o),s):n._tools._jets._JT_insert(new Jet.Bind(o),s)}),et.call(this,e+t.length)},Jet.For.prototype.refresh.remove=function(t,e){for(var n=0;n<e;n++)this.ele._JT_child(t)._JT_remove();this._tools._jets.splice(t,e),et.call(this,t)},Jet.Text=function(t){Jet.Base.call(this,t,"Jtext"),this._parIndex=t._parIndex,t.par=this,at.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.Text.prototype=new t}(),Jet.Text.prototype.refresh=function(t){if(!t||t==this.name){var e=this.func?this.func(this.get()):this.get();this.ele._JT_txt(e)}},Jet.Text.prototype.get=function(){return this._parIndex?st(this,this._parIndex):void 0!=this.index?this.index:this.data[this.name]},Jet.Text.prototype.setIndex=function(t){this.index=t,this.refresh(),this._tools._jetTools._JT_each(function(e){e.name==vt&&e.refresh(t)})},Jet.Input=function(t){Jet.Base.call(this,t,"Jinput"),t.par=this,ot.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.Input.prototype=new t}(),Jet.Input.prototype.refresh=function(t){if(!t||t==this.name){var e=this.func?this.func(this.get()):this.get();this.ele._JT_val(e)}},Jet.Input.prototype.get=function(){return this.data[this.name]},Jet.If=function(t){this.exp=null,this.func_true=null,this.func_false=null,Jet.Base.call(this,t,ft),lt.call(this)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.If.prototype=new t}(),Jet.If.prototype.get=function(){return this.name==vt?this.index:this.name==Tt?this.data:this.data[this.name]},Jet.If.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index;var e=this.get(),n={ele:this.ele,data:e,jet:this};!0===this.exp(e)?this.func_true.call(this.jet,n):this.func_false.call(this.jet,n)},Jet.On=function(t){Jet.Base.call(this,t,Jt),ht.call(this)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.On.prototype=new t}(),Jet.On.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:this.data[this.name]},Jet.On.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&(this.index=t)},Jet.Run=function(t){Jet.Base.call(this,t,dt),C.call(this,t)},function(){var t=function(){};t.prototype=Jet.Base.prototype,Jet.Run.prototype=new t}(),Jet.Run.prototype.get=function(){return void 0!=this.index?this.index:void 0==this.data?null:this.data[this.name]},Jet.Run.prototype.refresh=function(t){void 0!=this.index&&void 0!=t&&this.index!=t&&this.index,this.run()},Jet.Run.prototype.run=function(){var t=this;this.runs._JT_each(function(e){t.jet[e].call(t.jet,{ele:t.ele,data:t.get(),jet:t})})}}();