<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="keywords" content="">  
    <meta name="description" content="">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta content="telephone=no" name="format-detection">
    <title>jet</title>
    <link rel="stylesheet" href="src/css/common.css">
    <link rel="stylesheet" href="assets/css/icon.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/jui.css">
    <script type="text/javascript" src='assets/js/preload.js'></script>
  </head>
  <body class="common" jstyle="overflow-y:{{$.bodyFix}}?'hidden':'auto'">
      <div id="menu" jattr='class:({{$.showMenu}})?"open":""'>
        <div class='logo-text' jon='click:this.dshow=!this.dshow'>JET</div>
        <div id='menuScroll'><div class="menu-item">
            <div class="menu-main-item" Jrouter='/intro'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>介绍</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/intro/install' >
                <div class="menu-s-bar"></div>
                <div class='relative'>安装使用</div>
              </div>
              <div class="menu-s-item" Jrouter='/intro/contents' >
                <div class="menu-s-bar"></div>
                <div class='relative'>目录结构</div>
              </div>
              <div class="menu-s-item" Jrouter='/intro/html' >
                <div class="menu-s-bar"></div>
                <div class='relative'>html模板</div>
              </div>
              <div class="menu-s-item" Jrouter='/intro/grammer' >
                <div class="menu-s-bar"></div>
                <div class='relative'>Jet语法</div>
              </div>
            </div>
          </div>
          <div class="menu-item">
            <div class="menu-main-item" Jrouter='/bind'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>数据绑定</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/bind/j' >
                <div class="menu-s-bar"></div>
                <div class='relative'>属性J</div>
              </div>
              <div class="menu-s-item" Jrouter='/bind/type' >
                <div class="menu-s-bar"></div>
                <div class='relative'>绑定的分类</div>
              </div>
              <div class="menu-s-item" Jrouter='/bind/grammer' >
                <div class="menu-s-bar"></div>
                <div class='relative'>特殊语法</div>
              </div>
              <div class="menu-s-item" Jrouter='/bind/array' >
                <div class="menu-s-bar"></div>
                <div class='relative'>数组方法</div>
              </div>
            </div>
          </div>
          <div class="menu-item">
            <div class="menu-main-item" Jrouter='/attr'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>属性样式事件</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/attr/if' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jif</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/show' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jshow</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/attr' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jattr</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/style' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jstyle</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/run' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jrun</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/on' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jon</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/load' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jload</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/root' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jroot</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/dom' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jdom</div>
              </div>
              <div class="menu-s-item" Jrouter='/attr/html' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jhtml</div>
              </div>
            </div>
          </div>
          <div class="menu-item">
            <div class="menu-main-item" Jrouter='/valid'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>表单验证</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/valid/valid' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jvalid</div>
              </div>
              <div class="menu-s-item" Jrouter='/valid/form' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jform</div>
              </div>
              <div class="menu-s-item" Jrouter='/valid/method' >
                <div class="menu-s-bar"></div>
                <div class='relative'>Jet.valid</div>
              </div>
              <div class="menu-s-item" Jrouter='/valid/custom' >
                <div class="menu-s-bar"></div>
                <div class='relative'>自定义样式</div>
              </div>
            </div>
          </div>
          <div class="menu-item">
            <div class="menu-main-item" Jrouter='/lang'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>国际化语言</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/lang/use' >
                <div class="menu-s-bar"></div>
                <div class='relative'>use()</div>
              </div>
              <div class="menu-s-item" Jrouter='/lang/lang' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jlang</div>
              </div>
              <div class="menu-s-item" Jrouter='/lang/name' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jname</div>
              </div>
              <div class="menu-s-item" Jrouter='/lang/jl' >
                <div class="menu-s-bar"></div>
                <div class='relative'>JL()</div>
              </div>
              <div class="menu-s-item" Jrouter='/lang/list' >
                <div class="menu-s-bar"></div>
                <div class='relative'>Jet.lang.list</div>
              </div>
              <div class="menu-s-item" Jrouter='/lang/type' >
                <div class="menu-s-bar"></div>
                <div class='relative'>Jet.lang.type</div>
              </div>
            </div>
          </div>
          <div class="menu-item">
            <div class="menu-main-item" Jrouter='/router'>
              <div class="menu-main-bar"></div>
              <i class="j-icon icon-chevron-down"></i>
              <div class='relative'>路由</div>
            </div>
            <div class='item-w'>
              <div class="menu-s-item" Jrouter='/router/use' >
                <div class="menu-s-bar"></div>
                <div class='relative'>use()</div>
              </div>
              <div class="menu-s-item" Jrouter='/router/route' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jroute</div>
              </div>
              <div class="menu-s-item" Jrouter='/router/out' >
                <div class="menu-s-bar"></div>
                <div class='relative'>jout</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="main">
        <div id='header'>
          <i class="j-icon icon-bars menu-bar" jon='click:this.showMenu=true'></i>
          <i class="j-icon icon-arrow-up to-top" jon='click:J.scrollTo(0)'></i>
          <div id="searchWrapper">
              <i class="j-icon" jif='showResult:class[icon-times|icon-search]' jon='click:if(this.showResult)this.showResult=false'></i>
              <input type="text" class='j-input' jon='focus:this.showResult=true' j='queryString' placeholder="搜索api">
              <div j='queryList' jshow='{{$.queryList}}.length>0&&{{$.showResult}}' id='queryResult'>
                <!-- 有bug -->
                <div j='$each'>
                  <div class='q-item' jon='click:toQueryResult'>
                    <div j='name' class='q-name' jhtml>this.shapeQueryName($)</div>
                    <div j='intro' class='q-intro'></div>
                  </div>
                  
                </div>
              </div>
          </div>
        </div>
        <div Jout id='routerOut'></div>
        <div id='footer'>
          <div jshow='{{$.last}}!=""' class='last' jon='click:lastApi'>
            <i class="j-icon icon-double-angle-left"></i>
            <span j='last'></span>
          </div>
          <div jshow='{{$.next}}!=""' class='next' jon='click:nextApi'>
              <span j='next'></span>
              <i class="j-icon icon-double-angle-right"></i>
          </div>
          <span class='footer-text'>theajack@qq.com | ©2018 theajack | <a href="http://www.theajack.com">www.theajack.com</a></span>
        </div>
      </div>
      <div class='j-dialog' dialog-title='aaaaaa' jui-bind='dshow'>
          <div class="j-code">function(){}</div>
      </div>
      <div jattr='class:({{$.showMenu}})?"menu-bar-cover open":"menu-bar-cover"' jon='click:this.showMenu=false'></div>
    <script type="text/javascript" src="assets/js/jet/jet.all.3.js"></script>
    <script type="text/javascript" src="assets/js/jetter2.0.js"></script>
    <script type="text/javascript" src="assets/js/jui/main.js"></script>
    <script type="text/javascript" src="assets/js/jui/select.js"></script>
    <script type="text/javascript" src="assets/js/jui/message.js"></script>
    <script type="text/javascript" src="assets/js/jui/confirm.js"></script>
    <script type="text/javascript" src="assets/js/jui/radio.js"></script>
    <script type="text/javascript" src="assets/js/jui/checkbox.js"></script>
    <script type="text/javascript" src="assets/js/jui/switch.js"></script>
    <script type="text/javascript" src="assets/js/jui/date.js"></script>
    <script type="text/javascript" src="assets/js/jui/drag.js"></script>
    <script type="text/javascript" src="assets/js/jui/color.js"></script>
    <script type="text/javascript" src="assets/js/jui/slider.js"></script>
    <script type="text/javascript" src="assets/js/jui/jcode.js"></script>
    <script type="text/javascript" src="assets/js/jui/screenDrag.js"></script>
    <script type="text/javascript" src="assets/js/jui/dialog.js"></script>
    <script type="text/javascript" src="src/js/common.js"></script>
    <script type="text/javascript" src="src/js/queryApi.js"></script>
    
    <script type="text/javascript">
    
      Jet.global=new Jet({
        onload:function(){
          this.needUseRouted=true;
          this.routeFunc();
        },
        onrouted:function(){
          //console.log('onrouted');
          this.routeFunc();
          document.documentElement.scrollTop=0;
          J.body().scrollTop=0;
          J.attr('jump-to').each(function(item){
              J.attr('jump-des="'+item.attr('jump-to')+'"').exist(function(ele){
                  item.clk(function(){
                      J.scrollTo(ele.offsetTop-60);
                  });
              });
          });
        },
        onmounted:function(){
          //console.log('onmounted');
          var _this=this;
          var max;
          var _checkScrol=function(){
            max=J.id('menuScroll').hei()+40-J.id('menu').hei();
            if(max<=0){
              menuScroll=0;
              J.id('menuScroll').css('top','0px')
            }else if(menuScroll<=-max){
              menuScroll=-max;
              J.id('menuScroll').css('top',menuScroll+'px')
            }
          };
          var isLock=false;
          J.cls('menu-main-item').on('click',function(e){
            if(!isLock){
              isLock=true;
              this.next().slideToggle(function(){
                _checkScrol();
                isLock=false;
              },200,"ease");
              this.child(1).toggleClass('active');
            }
          },true);
          var menuScroll=0;
          J.id('menu').onmousewheel=function(e){
            //stopPro(e);
            if(!_this.bodyFix)_this.bodyFix=true;
            if(max>0){
              var _top=menuScroll+J.sign(e.wheelDelta)*80;
              if(e.wheelDelta<0){
                if(_top<-max){_top=-max;}
              }else{
                if(_top>0){_top=0;}
              }
              menuScroll=_top;
              J.id('menuScroll').css('top',_top+'px')
            }
          };
          J.id('routerOut').onmousewheel=function(){
            if(_this.bodyFix)_this.bodyFix=false;
          }
          window.onresize=_checkScrol;
        },
        data:{
          dshow:false,
          needUseRouted:false,
          last:'',
          lastUrl:'',
          next:'安装使用',
          nextUrl:'/intro/install',
          showMenu:false,
          queryList:[],
          showResult:false,
          queryString:'',
          bodyFix:false
        },
        ondatachange:{
          queryString:function(v){
            this.queryList.$replace(Query.query(v))
          }
        },
        func:{
          stopPro:function(event){
            var e=arguments.callee.caller.arguments[0]||event;
            if (e && e.stopPropagation) {
                e.stopPropagation();
            } else if (window.event) {
                window.event.cancelBubble = true;
            }
          },
          routeFunc:function(){
            if(this.needUseRouted){
              J.attr('jrouter-active').exist(function(item){
                if(item.hasClass('menu-s-item')){
                  var _i=item.parent().prev();
                  _i.next().slideDown(null,200,"ease");
                  _i.child(1).addClass('active');
                }
              });
              this.needUseRouted=false
            }
          },
          nextApi:function(){
            var _this=this;
            this.needUseRouted=true;
            Jet.router.route(this.nextUrl);
          },lastApi:function(){
            var _this=this;
            this.needUseRouted=true;
            Jet.router.route(this.lastUrl);
          },setLink:function(opt){
            this.last=opt.last||'';
            this.lastUrl=opt.lastUrl;
            this.next=opt.next||'';
            this.nextUrl=opt.nextUrl;
          },a1:function(){
            alert(1)
          },a2:function(){
            alert(2)
          },toQueryResult:function(opt){
            var _this=this;
            this.showResult=false;
            this.needUseRouted=true;
            Jet.router.route(opt.data.url,null,function(){
              setTimeout(function(){
                var top=0;
                if(opt.data.des!=''){
                  top=J.attr('jump-des='+opt.data.des).offsetTop-55;
                }
                document.documentElement.scrollTop=top;
                J.body().scrollTop=top;
                _this.needUseRouted=false;
              },0);
            });
          },shapeQueryName:function(s){
            var si=s.toLowerCase().indexOf(this.queryString.toLowerCase());
            var ei=si+this.queryString.length;
            return s.substring(0,si)+'<span class="__red">'+s.substring(si,ei)+'</span>'+s.substring(ei);
          }
        }
      })
      Jet.router.use({
        history:false,
        base:"/jet",
        index:'/',
        trueBase:true,
        router:{
          '/':'/intro/index',
          '/intro':{
            name:'/intro/index',
            children:{
              '/install':'/intro/install',
              '/contents':'/intro/contents',
              '/html':'/intro/html',
              '/grammer':'/intro/grammer',
            }
          },
          '/bind':{
            name:'/bind/index',
            children:{
              '/j':'/bind/j',
              '/type':'/bind/type',
              '/array':'/bind/array',
              '/grammer':'/bind/grammer',
            }
          },
          '/attr':{
            name:'/attr/index',
            children:{
              '/if':'/attr/if',
              '/show':'/attr/show',
              '/attr':'/attr/attr',
              '/style':'/attr/style',
              '/run':'/attr/run',
              '/on':'/attr/on',
              '/load':'/attr/load',
              '/root':'/attr/root',
              '/dom':'/attr/dom',
              '/html':'/attr/html',
            }
          },
          '/valid':{
            name:'/valid/index',
            children:{
              '/form':'/valid/form',
              '/method':'/valid/method',
              '/valid':'/valid/valid',
              '/custom':'/valid/custom',
            }
          },
          '/lang':{
            name:'/language/index',
            children:{
              '/use':'/language/use',
              '/lang':'/language/lang',
              '/name':'/language/name',
              '/jl':'/language/jl',
              '/list':'/language/list',
              '/type':'/language/type',
            }
          },
          '/router':{
            name:'/router/index',
            children:{
              '/use':'/router/use',
              '/route':'/router/route',
              '/out':'/router/out',
            }
          },
          '/test':'test'
        }
      });
      
    </script>
  </body>
</html>
